# revx.vite.yaml - Multi-Vite Project Configuration Example

# Server settings
server:
  port: 3000
  host: 0.0.0.0
  name: "Multi-Vite Dev Server"
  # Increase max sockets for better performance with Vite
  maxSockets: 512

# Global configuration
global:
  # CORS settings
  cors:
    enabled: true
    origin: "*"
    methods: ["GET", "POST", "PUT", "DELETE", "OPTIONS"]
    credentials: true

  # Logging settings
  logging:
    enabled: true
    format: "dev"  # dev format is good for development

# Route definitions
routes:
  # Example 1: Vite project 1 (SPA at /app1)
  - path: "/app1"
    vite:
      root: "./projects/app1"
      base: "/app1"
      # Optional: specify custom vite config file
      # configFile: "./projects/app1/vite.config.ts"

  # Example 2: Vite project 2 (SPA at /app2)
  - path: "/app2"
    vite:
      root: "./projects/app2"
      base: "/app2"

  # Example 3: Backend API proxy
  - path: "/api/*"
    target: "http://localhost:4000"
    changeOrigin: true
    pathRewrite:
      "^/api": ""

  # Example 4: Admin dashboard (static files)
  - path: "/admin/*"
    static: "./admin/dist"

  # Example 5: Root Vite project (catches remaining routes)
  # - path: "/*"
  #   vite:
  #     root: "./projects/main"
  #     base: "/"
